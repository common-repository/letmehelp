!function(){var e,t={893:function(e,t,n){"use strict";var r=window.wp.blocks;function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,_x,l,i=[],_n=!0,a=!1;try{if(_x=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;_n=!1}else for(;!(_n=(r=_x.call(n)).done)&&(i.push(r.value),i.length!==t);_n=!0);}catch(e){a=!0,o=e}finally{try{if(!_n&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var i=window.wp.element,a=n(184),u=n.n(a),c=window.wp.i18n,s=window.wp.blockEditor,p=window.wp.components;function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==b(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===b(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=window.wp.data,m=window.wp.apiFetch,h=n.n(m);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=function(e,t){var n=g({},e);return console.log("wow",g({},e)),n.text=t,n},_=function(e,t){var n=g({},e);return n.input.label.text=t,n},x=function(e,t){var n=g({},e);return n.input.label.isVisible=t,n},w=function(e,t){var n=g({},e);return n.input.placeholderText=t,n},O=function(e,t){var n=g({},e);return n.hasOwnProperty("input")||(n.input={}),n.input.hasOwnProperty("description")||(n.input.description={}),n.input.description.text=t,n},E=function(e,t){var n=g({},e);return n.button.text=t,n},j=function(e,t){var n=g({},e);return n.button.color.background=t,n},C=function(e,t){var n=g({},e);return n.button.color.text=t,n},k=function(e,t){var n=g({},e);return n.text=t,n},S=function(e,t){var n=g({},e);return n.text=t,n},P=function(e,t){var n=g({},e);return n.button.text=t,n},T=function(e,t){var n=g({},e);return n.button.color.background=t,n},B=function(e,t){var n=g({},e);return n.button.color.text=t,n},N=function(e,t){var n=g({},e);return n.button.style=t,n};function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F=function(e){var t,n,r=e.attributes,o=e.setAttributes,a=r.intro,b=r.subject,m=r.result,v=r.nothingFound,g=r.destination,_=(0,d.useSelect)((function(e){return e("core/editor").getEditorSettings()}),[]),x=l((0,i.useState)(!1),2),w=x[0],O=x[1],E=l((0,i.useState)(!1),2),j=E[0],C=E[1],k=l((0,i.useState)(!1),2),S=k[0],P=k[1],T=l((0,i.useState)(""),2),B=T[0],N=T[1],A=l((0,i.useState)(""),2),F=A[0],I=A[1],V=l((0,i.useState)([]),2),R=V[0],z=V[1],L=l((0,i.useState)("wp-block-button__link wp-element-button"),2),M=L[0],q=L[1],H=l((0,i.useState)({}),2),J=H[0],U=H[1],$=l((0,i.useState)("wp-block-button__link wp-element-button"),2),G=$[0],K=$[1],Q=l((0,i.useState)({}),2),W=Q[0],X=Q[1];return(0,i.useEffect)((function(){if(b.button.color.text){var e=(0,s.getColorObjectByColorValue)(_.colors,b.button.color.text),t=e?(0,s.getColorClassName)("color",e.slug):"";t?q((function(e){return e+u()(" ",f({"has-text-color":""!==t},t,""!==t))})):U((function(e){return D(D({},e),{},{color:b.button.color.text})}))}if(b.button.color.background){var n=(0,s.getColorObjectByColorValue)(_.colors,b.button.color.background),r=n?(0,s.getColorClassName)("background-color",n.slug):"";r?q((function(e){return e+u()(" ",f({"has-background":""!==r},r,""!==r))})):U((function(e){return D(D({},e),{},{backgroundColor:b.button.color.background})}))}if(g.button.color.text){var o=(0,s.getColorObjectByColorValue)(_.colors,g.button.color.text),l=o?(0,s.getColorClassName)("color",o.slug):"";l?K((function(e){return e+u()(" ",f({"has-text-color":""!==l},l,""!==l))})):X((function(e){return D(D({},e),{},{color:g.button.color.text})}))}if(g.button.color.background){var i=(0,s.getColorObjectByColorValue)(_.colors,g.button.color.background),a=i?(0,s.getColorClassName)("background-color",i.slug):"";a?K((function(e){return e+u()(" ",f({"has-background":""!==a},a,""!==a))})):X((function(e){return D(D({},e),{},{backgorundColor:g.button.color.background})}))}}),[]),(0,i.useEffect)((function(){F&&h()({path:"letmehelp/v1/search-links/",method:"POST",data:{keyword_text:F,mode:"editor"}}).then((function(e){e.result.length?(C(!1),O(!0)):(C(!0),O(!1)),z(e.result),P(!0)})).catch((function(e){return console.error(e)}))}),[F]),(0,i.createElement)("div",{className:"editor-preview"},(0,i.createElement)(s.RichText,{className:"preview-intro",onChange:function(e){o({intro:y(a,e)})},placeholder:(0,c.__)("Add intro ...","letmehelp"),tagName:"div",value:a.text}),(0,i.createElement)("div",{className:"preview-subject"},(0,i.createElement)("label",{htmlFor:"preview-input-text",className:b.input.label.isVisible?"":"screen-reader-text"},b.input.label.text),(0,i.createElement)("div",{className:"form-wrapper"},(0,i.createElement)("input",{id:"preview-input-text",type:"text",className:"input-text",placeholder:b.input.placeholderText,value:B,onChange:function(e){return N(e.target.value)}}),(0,i.createElement)("button",{type:"button",className:M,style:J,onClick:function(e){e.preventDefault(),I(B)}},b.button.text)),(0,i.createElement)("div",{className:"input-description has-small-font-size"},null===(t=b.input)||void 0===t||null===(n=t.description)||void 0===n?void 0:n.text)),w&&(0,i.createElement)("div",{className:"preview-result"},m.text&&(0,i.createElement)("p",null,m.text),R.length>0?(0,i.createElement)("ul",null,R.map((function(e){return(0,i.createElement)("li",{key:e.link_id},(0,i.createElement)(p.Disabled,null,(0,i.createElement)("a",{href:e.link_url},e.link_label)))}))):(0,i.createElement)(p.Spinner,null)),j&&(0,i.createElement)("div",{className:"preview-404"},v.text&&(0,i.createElement)("p",null,v.text)),S&&(0,i.createElement)(p.Disabled,null,(0,i.createElement)("div",{className:"preview-destination-action"},(0,i.createElement)("button",{type:"button",style:W,className:G},g.button.text))))},I=[{value:"",label:(0,c.__)("Default")},{value:"outline",label:(0,c.__)("Outline")}],V=function(e){var t,n,r=e.attributes,o=e.setAttributes,l=r.subject,a=r.result,u=r.nothingFound,b=r.destination;return(0,i.createElement)(p.Card,{className:"block-settings"},(0,i.createElement)(p.CardHeader,null,(0,c.__)("Settings")),(0,i.createElement)(p.CardBody,null,(0,i.createElement)(p.Panel,{header:(0,c.__)("Subject","letmehelp")},(0,i.createElement)(p.PanelBody,{title:(0,c.__)("Input"),initialOpen:!1},(0,i.createElement)("div",{className:"settings-panel-row"},(0,i.createElement)(p.TextControl,{help:(0,c.__)("Label is shown above input field. If empty then label will be hidden.","letmehelp"),label:(0,c.__)("Label Text","letmehelp"),value:l.input.label.text,onChange:function(e){o({subject:_(l,e)})}}),(0,i.createElement)(p.ToggleControl,{label:(0,c.__)("Display label","letmehelp"),checked:l.input.label.isVisible,onChange:function(e){o({subject:x(l,e)})}})),(0,i.createElement)(p.TextControl,{help:(0,c.__)("Text will be shown inside the input field. It becomes hidden when user types.","letmehelp"),label:(0,c.__)("Placeholder Text","letmehelp"),value:l.input.placeholderText,onChange:function(e){o({subject:w(l,e)})}}),(0,i.createElement)(p.TextControl,{help:(0,c.__)("Text will be shown under the input field.","letmehelp"),label:(0,c.__)("Description Text","letmehelp"),value:null!==(t=l.input)&&void 0!==t&&null!==(n=t.description)&&void 0!==n&&n.text?l.input.description.text:"",onChange:function(e){o({subject:O(l,e)})}})),(0,i.createElement)(p.PanelBody,{title:(0,c.__)("Button"),initialOpen:!1},(0,i.createElement)(p.TextControl,{help:(0,c.__)("This text serves as call to action in button for submitting subject request.","letmehelp"),label:(0,c.__)("Subject Button Text","letmehelp"),value:l.button.text,onChange:function(e){o({subject:E(l,e)})}}),(0,i.createElement)(s.PanelColorSettings,{colorSettings:[{label:(0,c.__)("Background"),onChange:function(e){o({subject:j(l,e)})},value:l.button.color.background},{label:(0,c.__)("Text"),onChange:function(e){o({subject:C(l,e)})},value:l.button.color.text}],initialOpen:!1,title:(0,c.__)("Color settings")}))),(0,i.createElement)(p.Panel,{header:(0,c.__)("Result","letmehelp")},(0,i.createElement)(p.PanelBody,{title:(0,c.__)("Text"),initialOpen:!1},(0,i.createElement)(p.TextareaControl,{help:(0,c.__)("This text will be shown above the list of found links based on the subject input.","letmehelp"),label:(0,c.__)("Found Text","letmehelp"),value:a.text,onChange:function(e){o({result:k(a,e)})}}))),(0,i.createElement)(p.Panel,{header:(0,c.__)("Nothing Found","letmehelp")},(0,i.createElement)(p.PanelBody,{title:(0,c.__)("Text"),initialOpen:!1},(0,i.createElement)(p.TextareaControl,{help:(0,c.__)("This text will be shown if no links are found based on the subject input.","letmehelp"),label:(0,c.__)("Not Found Text","letmehelp"),value:u.text,onChange:function(e){o({nothingFound:S(u,e)})}}))),(0,i.createElement)(p.Panel,{header:(0,c.__)("Destination","letmehelp")},(0,i.createElement)(p.PanelBody,{title:(0,c.__)("Button"),initialOpen:!1},(0,i.createElement)(p.TextControl,{help:(0,c.__)("This text serves are a call to action for final destionation.","letmehelp"),label:(0,c.__)("Destination Button Text","letmehelp"),value:b.button.text,onChange:function(e){o({destination:P(b,e)})}}),(0,i.createElement)(s.PanelColorSettings,{colorSettings:[{label:(0,c.__)("Background"),onChange:function(e){o({destination:T(b,e)})},value:b.button.color.background},{label:(0,c.__)("Text"),onChange:function(e){o({destination:B(b,e)})},value:b.button.color.text}],initialOpen:!1,title:(0,c.__)("Color settings")}),(0,i.createElement)(p.RadioControl,{label:(0,c.__)("Style"),help:"The type of the current user",selected:b.button.style,options:I,onChange:function(e){return function(e){o({destination:N(b,e)})}(e)}})))))},R=JSON.parse('{"u2":"letmehelp/base"}');(0,r.registerBlockType)(R.u2,{edit:function(e){var t=e.attributes,n=e.setAttributes,r=(0,s.useBlockProps)(),o=(0,s.useInnerBlocksProps)({orientation:"horizontal",renderAppender:s.InnerBlocks.ButtonBlockAppender}),a=u()(o.className,"inner-blocks-container");o.className=a;var b=l((0,i.useState)(!0),2),f=b[0],d=b[1];return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(s.BlockControls,null,(0,i.createElement)(p.Toolbar,null,(0,i.createElement)(p.Button,{label:(0,c.__)("Preview"),icon:f?"hidden":"visibility",onClick:function(){d(!f)},isPressed:f}))),(0,i.createElement)("div",r,f?(0,i.createElement)(V,{attributes:t,setAttributes:n}):(0,i.createElement)(F,{attributes:t,setAttributes:n}),f&&(0,i.createElement)("div",o)))},save:function(){return(0,i.createElement)(s.InnerBlocks.Content,null)}})},184:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var l=typeof n;if("string"===l||"number"===l)e.push(n);else if(Array.isArray(n)){if(n.length){var i=o.apply(null,n);i&&e.push(i)}}else if("object"===l){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var a in n)r.call(n,a)&&n[a]&&e.push(a)}}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var l=n[e]={exports:{}};return t[e](l,l.exports,r),l.exports}r.m=t,e=[],r.O=function(t,n,o,l){if(!n){var i=1/0;for(s=0;s<e.length;s++){n=e[s][0],o=e[s][1],l=e[s][2];for(var a=!0,u=0;u<n.length;u++)(!1&l||i>=l)&&Object.keys(r.O).every((function(e){return r.O[e](n[u])}))?n.splice(u--,1):(a=!1,l<i&&(i=l));if(a){e.splice(s--,1);var c=o();void 0!==c&&(t=c)}}return t}l=l||0;for(var s=e.length;s>0&&e[s-1][2]>l;s--)e[s]=e[s-1];e[s]=[n,o,l]},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={826:0,431:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,l,i=n[0],a=n[1],u=n[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(o in a)r.o(a,o)&&(r.m[o]=a[o]);if(u)var s=u(r)}for(t&&t(n);c<i.length;c++)l=i[c],r.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return r.O(s)},n=self.webpackChunkletmehelp=self.webpackChunkletmehelp||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var o=r.O(void 0,[431],(function(){return r(893)}));o=r.O(o)}();